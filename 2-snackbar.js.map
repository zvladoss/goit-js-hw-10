{"version":3,"file":"2-snackbar.js","sources":["../src/js/2-snackbar.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\nconst refs = {\n  formFeedback: document.querySelector('.feedback-form'),\n  input: document.querySelector(\"input[name='email']\"),\n  textarea: document.querySelector(\"textarea[name='message']\"),\n};\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nconst fillFormFields = () => {\n  try {\n    const formLsData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    if (!formLsData) {\n      return;\n    }\n    formData = formLsData;\n    Object.keys(formLsData).forEach(key => {\n      if (refs.formFeedback.elements[key]) {\n        refs.formFeedback.elements[key].value = formLsData[key];\n      }\n    });\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nfillFormFields();\n\nconst onFormFieldChange = ({ target }) => {\n  formData[target.name] = target.value.trim();\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n};\n\nconst onFeedbackFormSubmit = event => {\n  event.preventDefault();\n  const { email, message } = formData;\n  if (!email || !message) {\n    alert('Fill please all fields.');\n    return;\n  }\n  console.log(formData);\n  localStorage.removeItem(STORAGE_KEY);\n  formData = { email: '', message: '' };\n  event.currentTarget.reset();\n};\nrefs.formFeedback.addEventListener('input', onFormFieldChange);\nrefs.formFeedback.addEventListener('submit', onFeedbackFormSubmit);\n"],"names":["STORAGE_KEY","refs","formData","fillFormFields","formLsData","key","error","onFormFieldChange","target","onFeedbackFormSubmit","event","email","message"],"mappings":"oDAAA,MAAMA,EAAc,sBACdC,EAAO,CACX,aAAc,SAAS,cAAc,gBAAgB,EACrD,MAAO,SAAS,cAAc,qBAAqB,EACnD,SAAU,SAAS,cAAc,0BAA0B,CAC7D,EAEA,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAiB,IAAM,CAC3B,GAAI,CACF,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQJ,CAAW,CAAC,EAC/D,GAAI,CAACI,EACH,OAEFF,EAAWE,EACX,OAAO,KAAKA,CAAU,EAAE,QAAQC,GAAO,CACjCJ,EAAK,aAAa,SAASI,CAAG,IAChCJ,EAAK,aAAa,SAASI,CAAG,EAAE,MAAQD,EAAWC,CAAG,EAE9D,CAAK,CACF,OAAQC,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH,EAEAH,IAEA,MAAMI,EAAoB,CAAC,CAAE,OAAAC,KAAa,CACxCN,EAASM,EAAO,IAAI,EAAIA,EAAO,MAAM,OAErC,aAAa,QAAQR,EAAa,KAAK,UAAUE,CAAQ,CAAC,CAC5D,EAEMO,EAAuBC,GAAS,CACpCA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAS,EAAGV,EAC3B,GAAI,CAACS,GAAS,CAACC,EAAS,CACtB,MAAM,yBAAyB,EAC/B,MACD,CACD,QAAQ,IAAIV,CAAQ,EACpB,aAAa,WAAWF,CAAW,EACnCE,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCQ,EAAM,cAAc,OACtB,EACAT,EAAK,aAAa,iBAAiB,QAASM,CAAiB,EAC7DN,EAAK,aAAa,iBAAiB,SAAUQ,CAAoB"}